# filesystem configuration
# read "Identifying the ids to use for the zfs pool" in the README.md for help.
filesystem_zfs_pool_name: storage_pool
filesystem_zfs_pool_disks:
  - /dev/disk/by-id/ata-TOSHIBA_MG09ACA18TE_X2N0A05AFJDH
  - /dev/disk/by-id/ata-TOSHIBA_MG09ACA18TE_X2N0A04YFJDH
filesystem_zfs_pool_ashift: 12
filesystem_zfs_pool_mountpoint: /mnt/storage

# system
system_hostname: "servy"

# account
account_root_password: "{{ vault_account_root_password }}"

account_groups:
  - docker
  - samba

account_users:
  - name: ansible
    password: "{{ vault_account_users_ansible_password }}"
    groups:
      - sudo
      - docker
      - users
      # Docker groups
      - docker-paperless-ngx-julian
    shell: /bin/bash
    passwordless_sudo: true
  - name: julian
    password: "{{ vault_account_users_julian_password }}"
    groups:
      - sudo
      - docker
      - users
      - samba
    shell: /bin/bash
    passwordless_sudo: false

# samba
samba_folders:
  - path: /mnt/storage/containers/paperless-ngx/consume
    owner: paperless
    group: samba

  - path: /mnt/storage/google-photos-dl
    owner: julian
    group: samba

  - path: /mnt/storage/documents/lara
    owner: lara
    group: samba

samba_group: samba

samba_users:
  - name: samba
    groups:
      - samba
    shell: /sbin/nologin

  - name: samba_guest
    groups:
      - samba
    shell: /sbin/nologin

  - name: paperless
    groups:
      - samba
    shell: /sbin/nologin

  - name: lara
    groups:
      - samba
    shell: /sbin/nologin

# +-------------------+
# | Docker containers |
# +-------------------+

# actual
actual_traefik_host: actual.{{ docker_l_hostname }}

# actual-gemeinsam
actual_gemeinsam_traefik_host: actual-g.{{ docker_l_hostname }}

# adventurelog
adventurelog_postgres_password: "{{ vault_adventurelog_postgres_password }}"
adventurelog_secret_key: "{{ vault_adventurelog_secret_key }}"
adventurelog_admin_password: "{{ vault_adventurelog_admin_password }}"
adventurelog_google_maps_api_key: "{{ vault_adventurelog_google_maps_api_key}}"

adventurelog_traefik_host: adventurelog.{{ docker_l_hostname }}

# arr
arr_gluetun_wireguard_private_key: "{{ vault_arr_gluetun_wireguard_private_key }}"
arr_gluetun_wireguard_addresses: "{{ vault_arr_gluetun_wireguard_addresses }}"

arr_sabnzbd_traefik_host: sabnzbd.{{ docker_l_hostname }}
arr_radarr_traefik_host: radarr.{{ docker_l_hostname }}
arr_sonarr_traefik_host: sonarr.{{ docker_l_hostname }}
arr_readarr_traefik_host: readarr.{{ docker_l_hostname }}
arr_kapowarr_traefik_host: kapowarr.{{ docker_l_hostname }}
arr_calibre_traefik_host: calibre.{{ docker_l_hostname }}
arr_calibre_web_traefik_host: calibre-web.{{ docker_l_hostname }}
arr_tachidesk_traefik_host: tachidesk.{{ docker_l_hostname }}

arr_firefox_vpn_web_authentication_username: "{{ vault_arr_firefox_vpn_web_authentication_username }}"
arr_firefox_vpn_web_authentication_password: "{{ vault_arr_firefox_vpn_web_authentication_password }}"

arr_firefox_vpn_traefik_host: firefox-vpn.{{ docker_l_hostname }}

arr_firefox_vpn_lara_web_authentication_username: "{{ vault_arr_firefox_vpn_lara_web_authentication_username }}"
arr_firefox_vpn_lara_web_authentication_password: "{{ vault_arr_firefox_vpn_lara_web_authentication_password }}"

arr_firefox_vpn_lara_traefik_host: firefox-vpn-lara.{{ docker_l_hostname }}

# audiobookshelf
audiobookshelf_traefik_host: audiobookshelf.{{ docker_l_hostname }}

# beszel
beszel_traefik_host: beszel.{{ docker_l_hostname }}

# beszel_agent
beszel_agent_token: "{{ vault_beszel_agent_token }}"

beszel_agent_filesystem: "/dev/sdb"

beszel_agent_extra_filesystems:
  - name: zfs
    path: /mnt/storage
  
# Breaks filesystem reporting when not mounted
  # - name: sdd
  #   path: /mnt/back

# bitwarden_backup
bitwarden_backup_client_id: "{{ vault_bitwarden_backup_client_id }}"
bitwarden_backup_client_secret: "{{ vault_bitwarden_backup_client_secret }}"
bitwarden_backup_master_password: "{{ vault_bitwarden_backup_master_password }}"
bitwarden_backup_backup_password: "{{ vault_bitwarden_backup_backup_password }}"

bitwarden_backup_backup_organizations: "{{ vault_bitwarden_backup_organizations }}"

bitwarden_backup_ntfy_server: "https://{{ ntfy_traefik_host }}"
bitwarden_backup_ntfy_topic: backups
bitwarden_backup_ntfy_username: bitwarden-backup
bitwarden_backup_ntfy_password: "{{ vault_bitwarden_backup_ntfy_password}}"

# borgmatic
borgmatic_borg_passphrase: "{{ vault_borgmatic_borg_passphrase }}"
borgmatic_ntfy_password: "{{ vault_borgmatic_ntfy_password }}"

borgmatic_cron: "0 1 * * *" # daily at 1am

borgmatic_hostname: "{{ system_hostname }}"

borgmatic_source_directories:
  # - /mnt/storage/arr (arr folder)
  - /mnt/storage/backups # Backups from phone, etc.
  # - /mnt/storage/borg-repository (not used, only using remote backup)
  - /mnt/storage/containers
  # - /mnt/storage/docker (docker data, not needed)
  - /mnt/storage/documents
  # - /mnt/storage/domains (old vm folder, not being used)
  # - /mnt/storage/external-backups (backups from other devices on this device)
  # - /mnt/storage/google-photos-dl (temporary folder)
  # - /mnt/storage/isos (isos can be downloaded again)
  # - /mnt/storage/tmp (temporary folder)

borgmatic_repositories:
  - path: ssh://u333539-sub4@u333539.your-storagebox.de/./backup
    label: Boxy

borgmatic_ssh_command: ssh -p 23 -i /root/.ssh/sub4

borgmatic_mariadb_databases:
  - name: gitea
    hostname: gitea-db
    port: 3306
    username: gitea
    password: "{{ gitea_mariadb_password }}"

  - name: nextcloud
    hostname: nextcloud-db
    port: 3306
    username: nextcloud
    password: "{{ nextcloud_mariadb_password }}"

  # Currently not used
  # - name: romm
  #   hostname: romm-db
  #   port: 3306
  #   username: romm-user
  #   password: "{{ romm_mysql_password }}"

  - name: speedtest_tracker
    hostname: speedtest-tracker-db
    port: 3306
    username: speedtest
    password: "{{ speedtest_tracker_mariadb_password }}"

  - name: traccar
    hostname: traccar-db
    port: 3306
    username: traccar
    password: "{{ traccar_mariadb_password }}"

borgmatic_networks:
  - gitea
  - nextcloud
  # Currently not used
  # - romm
  - speedtest-tracker
  - traccar

# chartdb
chartdb_traefik_host: chartdb.{{ docker_l_hostname }}

# crowdsec_firewall_bouncer
crowdsec_firewall_bouncer_api_key: "{{ vault_crowdsec_firewall_bouncer_api_key }}"

# dawarich
dawarich_traefik_host: dawarich.{{ docker_l_hostname }}

dawarich_postgres_password: "{{ vault_dawarich_postgres_password }}"

# dockge
dockge_traefik_host: dockge.{{ docker_l_hostname }}

# dozzle
dozzle_traefik_host: dozzle.{{ docker_l_hostname }}

dozzle_admin_email: "{{ vault_dozzle_admin_email }}"
dozzle_admin_password: "{{ vault_dozzle_admin_password }}"

# firefly
firefly_traefik_host: firefly.{{ docker_l_hostname }}
firefly_mysql_password: "{{ vault_firefly_mysql_password }}"


firefly_app_key: "{{ vault_firefly_app_key }}"

firefly_importer_traefik_host: firefly-importer.{{ docker_l_hostname }}

# freshrss
freshrss_traefik_host: freshrss.{{ docker_l_hostname }}
freshrss_postgres_password: "{{ vault_freshrss_postgres_password }}"

# gitea
gitea_traefik_host: gitea.{{ docker_l_hostname }}
gitea_mariadb_password: "{{ vault_gitea_mariadb_password }}"

# hedgedoc
hedgedoc_traefik_host: hedgedoc.{{ docker_r_hostname }}

hedgedoc_postgres_password: "{{ vault_hedgedoc_postgres_password }}"

# hemmelig
hemmelig_traefik_host: hemmelig.{{ docker_r_hostname }}
hemmelig_secret_root_email: hemmelig@{{ docker_hostname }}
hemmelig_secret_jwt_secret: "{{ vault_hemmelig_secret_jwt_secret }}"

# immich
immich_traefik_host: immich.{{ docker_r_hostname }}

immich_postgres_password: "{{ vault_immich_postgres_password }}"

# jellyfin
jellyfin_traefik_host: jellyfin.{{ docker_l_hostname }}

# jellyseerr
jellyseerr_traefik_host: jellyseerr.{{ docker_l_hostname }}

# kitchenowl
kitchenowl_traefik_host: kitchenowl.{{ docker_r_hostname }}

kitchenowl_jwt_secret: "{{ vault_kitchenowl_jwt_secret }}"

kitchenowl_db_password: "{{ vault_kitchenowl_db_password }}"

# komga
komga_traefik_host: komga.{{ docker_l_hostname }}
komga_komf_traefik_host: komf.{{ docker_l_hostname }}

komga_komf_user: "{{ vault_komga_komf_user }}"
komga_komf_password: "{{ vault_komga_komf_password }}"

# monitoring
monitoring_grafana_traefik_host: grafana.{{ docker_l_hostname }}
monitoring_prometheus_traefik_host: prometheus.{{ docker_l_hostname }}
monitoring_loki_traefik_host: loki.{{ docker_l_hostname }}
monitoring_alertmanager_traefik_host: alertmanager.{{ docker_l_hostname }}

monitoring_ntfy_alertmanager_webhook_password: "{{ vault_monitoring_ntfy_alertmanager_webhook_password }}"
monitoring_ntfy_alertmanager_ntfy_password: "{{ vault_monitoring_ntfy_alertmanager_ntfy_password }}"
monitoring_ntfy_alertmanager_alertmanager_password: "{{ vault_monitoring_ntfy_alertmanager_alertmanager_password }}"
monitoring_prometheus_node_exporter_yogastudio27_password: "{{ vault_monitoring_prometheus_node_exporter_yogastudio27_password }}"
monitoring_prometheus_node_exporter_publy_password: "{{ vault_monitoring_prometheus_node_exporter_publy_password }}"

# n8n
n8n_traefik_host: n8n.{{ docker_r_hostname }}
n8n_redis_traefik_host: n8n-redis.{{ docker_l_hostname }}

n8n_postgres_password: "{{ vault_n8n_postgres_password }}"

# neko
neko_traefik_host: neko.{{ docker_r_hostname }}

neko_member_multiuser_user_password: "{{ vault_neko_member_multiuser_user_password }}"
neko_member_multiuser_admin_password: "{{ vault_neko_member_multiuser_admin_password }}"

# nextcloud
nextcloud_traefik_host: nextcloud.{{ docker_r_hostname }}

nextcloud_mariadb_root_password: "{{ vault_nextcloud_mariadb_root_password }}"
nextcloud_mariadb_password: "{{ vault_nextcloud_mariadb_password }}"

# nocodb
nocodb_traefik_host: nocodb.{{ docker_l_hostname }}

nocodb_postgres_password: "{{ vault_nocodb_postgres_password }}"

# ntfy
ntfy_traefik_host: ntfy.{{ docker_r_hostname }}

# obsidian_livesync
obsidian_livesync_traefik_host: obsidian-livesync.{{ docker_r_hostname }}

obsidian_livesync_couchdb_user: "couchdb"
obsidian_livesync_couchdb_password: "{{ vault_obsidian_livesync_couchdb_password }}"

# onlyoffice_documentserver
onlyoffice_documentserver_traefik_host: nextcloudds.{{ docker_r_hostname }}

onlyoffice_documentserver_jwt_secret: "{{ vault_onlyoffice_documentserver_jwt_secret }}"

# open_archiver
open_archiver_traefik_host: open-archiver.{{ docker_l_hostname }}

open_archiver_postgres_password: "{{ vault_open_archiver_postgres_password }}"
open_archiver_meilisearch_master_key: "{{ vault_open_archiver_meilisearch_master_key }}"
open_archiver_redis_password: "{{ vault_open_archiver_redis_password }}"
open_archiver_jwt_secret: "{{ vault_open_archiver_jwt_secret }}"
open_archiver_encryption_key: "{{ vault_open_archiver_encryption_key }}"

# paperless_ngx
paperless_ngx_traefik_host: paperless.{{ docker_l_hostname }}

paperless_ngx_postgres_password: "{{ vault_paperless_ngx_postgres_password }}"
paperless_ngx_paperless_secret_key: "{{ vault_paperless_ngx_paperless_secret_key }}"

# paperless-ngx-julian
paperless_ngx_julian_traefik_host: paperless-j.{{ docker_l_hostname }}

paperless_ngx_julian_postgres_password: "{{ vault_paperless_ngx_julian_postgres_password }}"
paperless_ngx_julian_paperless_secret_key: "{{ vault_paperless_ngx_julian_paperless_secret_key }}"

paperless_ngx_julian_gpg_cache_user:
  name: "{{ paperless_ngx_julian_name }}"
  password: password
  group: "{{ paperless_ngx_julian_name }}"
  groups:
    - name: "{{ paperless_ngx_julian_name }}"
    - name: "{{ paperless_ngx_julian_group }}"
    - name: docker
    - name: users
  fingerprint: "{{ vault_paperless_ngx_julian_pgp_fingerprint }}"
  private_key: mailbox.asc
  mail: "{{ vault_paperless_ngx_julian_pgp_mail }}"

paperless_ngx_julian_pgp_uid: 1002
paperless_ngx_julian_pgp_gid: 1001

paperless_ngx_julian_gnupg_home: /home/{{ paperless_ngx_julian_gpg_cache_user.name }}/.gnupg
paperless_ngx_julian_gnupg_socket: /home/{{ paperless_ngx_julian_gpg_cache_user.name }}/.gnupg/S.gpg-agent

# paperless-ngx-lara
paperless_ngx_lara_traefik_host: paperless-l.{{ docker_l_hostname }}

paperless_ngx_lara_postgres_password: "{{ vault_paperless_ngx_lara_postgres_password }}"
paperless_ngx_lara_paperless_secret_key: "{{ vault_paperless_ngx_lara_paperless_secret_key }}"

# plane
plane_traefik_host: plane.{{ docker_r_hostname }}

plane_postgres_password: "{{ vault_plane_postgres_password }}"
plane_secret_key: "{{ vault_plane_secret_key }}"
plane_rabbitmq_password: "{{ vault_plane_rabbitmq_password }}"

# pelican
pelican_panel_traefik_host: pelican-panel.{{ docker_l_hostname }}
pelican_wings_traefik_host: pelican-wings.{{ docker_l_hostname }}

pelican_panel_app_key: "{{ vault_pelican_panel_app_key }}"
pelican_panel_admin_email: "{{ vault_pelican_panel_admin_email }}"
pelican_mysql_root_password: "{{ vault_pelican_mysql_root_password }}"
pelican_mysql_password: "{{ vault_pelican_mysql_password }}"

pelican_user:
  name: "{{ pelican_name }}"
  uid: 82
  password: "password"
  group: "{{ pelican_name }}"
  groups:
    - name: "{{ pelican_name }}"
    - name: "{{ pelican_group }}"
      gid: 82
    - name: "docker"
    - name: "users"

# romm
romm_traefik_host: romm.{{ docker_l_hostname }}

romm_mobygames_api_key: "{{ vault_romm_mobygames_api_key }}"

romm_romm_auth_secret_key: "{{ vault_romm_romm_auth_secret_key }}"

romm_mysql_root_password: "{{ vault_romm_mysql_root_password }}"
romm_mysql_password: "{{ vault_romm_mysql_password }}"

# ryot
ryot_traefik_host: ryot.{{ docker_l_hostname }}

ryot_postgres_password: "{{ vault_ryot_postgres_password }}"

ryot_twitch_client_id: "{{ vault_ryot_twitch_client_id }}"
ryot_twitch_client_secret: "{{ vault_ryot_twitch_client_secret }}"

# scrutiny
scrutiny_traefik_host: scrutiny.{{ docker_l_hostname }}

# speedtest_tracker
speedtest_tracker_traefik_host: speedtest.{{ docker_l_hostname }}

speedtest_tracker_mariadb_password: "{{ vault_speedtest_tracker_mariadb_password }}"
speedtest_tracker_app_key: "{{ vault_speedtest_tracker_app_key }}"

# spliit
spliit_traefik_host: spliit.{{ docker_r_hostname }}

spliit_postgres_password: "{{ vault_spliit_postgres_password }}"

# stirling_pdf
stirling_pdf_traefik_host: pdf.{{ docker_l_hostname }}

# syncthing
syncthing_traefik_host: syncthing.{{ docker_r_hostname}}

# traccar
traccar_traefik_host: traccar.{{ docker_r_hostname }}

traccar_mariadb_password: "{{ vault_traccar_mariadb_password }}"

# traefik
traefik_host: traefik.servy.{{ docker_l_hostname }} 

traefik_enable_dnschallenge_cloudflare: true

traefik_environment:
  - "CF_DNS_API_TOKEN={{ traefik_cf_dns_api_token }}"

traefik_networks:
  - actual
  - actual-gemeinsam
  # Cool but a bit clunky, currently not used
  # - adventurelog
  - audiobookshelf
  # No need
  # - dockge
  - dozzle
  - jellyfin
  - chartdb
  - kitchenowl
  - hemmelig
  - immich
  - monitoring
  - n8n
  - nextcloud
  - ntfy
  - freshrss
  - obsidian-livesync
  - open-archiver
  - komga
  - scrutiny
  - speedtest-tracker
  - stirling-pdf
  - syncthing
  - uptime-kuma
  - traccar
  - traggo
  - unifi-network-application
  - paperless-ngx
  - paperless-ngx-julian
  - paperless-ngx-lara
  # - plane
  - pelican
  # Currently not used
  # - romm
  # - ryot
  - gitea
  - arr
  - jellyseerr
  - dawarich
  - beszel
  - spliit
  # - wg-easy
  - hedgedoc
  # Not used anymore
  # - nocodb

traefik_enable_crowdsec_bouncer: true

traefik_crowdsec_bouncer_trusted_ips:
  - 192.168.10.0/24

traefik_crowdsec_bouncer_crowdsec_lapi_key: "{{ vault_traefik_crowdsec_bouncer_crowdsec_lapi_key }}"

traefik_enable_additional_middlewares: true

traefik_additional_middlewares:
  pelican-cors:
    headers:
        customRequestHeaders:
          Access-Control-Allow-Origin: origin-list-or-null
          Sec-Fetch-Site: cross-site
          X-Forwarded-Proto: https
          Access-Control-Allow-Headers: "*, Authorization"
        customResponseHeaders:
          Access-Control-Allow-Origin: "*"
          Sec-Fetch-Site: cross-site
          X-Forwarded-Proto: https
          Access-Control-Allow-Headers: "*, Authorization"
        accessControlAllowMethods:
          - OPTIONS
          - POST
          - GET
          - PUT
          - DELETE
          - PATCH
        accessControlAllowHeaders:
          - "*, Authorization"
        accessControlExposeHeaders:
          - "*, Authorization"
        accessControlMaxAge: 100
        addVaryHeader: true
        accessControlAllowCredentials: true
        accessControlAllowOriginList:
          - "*"

# traggo
traggo_traefik_host: traggo.{{ docker_l_hostname }}

traggo_default_user_pass: "{{ vault_traggo_default_user_pass }}"

# unifi_network_application
unifi_network_application_traefik_host: unifi.{{ docker_l_hostname }}

unifi_network_application_mongo_root_password: "{{ vault_unifi_network_application_mongo_root_password }}"
unifi_network_application_mongo_password: "{{ vault_unifi_network_application_mongo_password }}"

# uptime_kuma
uptime_kuma_traefik_host: uptime.{{ docker_l_hostname }}